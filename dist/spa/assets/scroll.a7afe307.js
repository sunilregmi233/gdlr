import{f as y,a2 as z,i as f,g as v,E as x,v as p,h as E,n as O,A as h}from"./index.91d6c796.js";import{c as R}from"./render.db39bb30.js";import{g as L,c as w}from"./dom.ab37b170.js";function T(){const e=y(!z.value);return e.value===!1&&f(()=>{e.value=!0}),e}const g=typeof ResizeObserver!="undefined",b=g===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var k=R({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:r}){let t=null,n,s={width:-1,height:-1};function l(o){o===!0||e.debounce===0||e.debounce==="0"?u():t===null&&(t=setTimeout(u,e.debounce))}function u(){if(t!==null&&(clearTimeout(t),t=null),n){const{offsetWidth:o,offsetHeight:i}=n;(o!==s.width||i!==s.height)&&(s={width:o,height:i},r("resize",s))}}const{proxy:a}=O();if(g===!0){let o;const i=d=>{n=a.$el.parentNode,n?(o=new ResizeObserver(l),o.observe(n),u()):d!==!0&&p(()=>{i(!0)})};return f(()=>{i()}),v(()=>{t!==null&&clearTimeout(t),o!==void 0&&(o.disconnect!==void 0?o.disconnect():n&&o.unobserve(n))}),x}else{let d=function(){t!==null&&(clearTimeout(t),t=null),i!==void 0&&(i.removeEventListener!==void 0&&i.removeEventListener("resize",l,h.passive),i=void 0)},m=function(){d(),n&&n.contentDocument&&(i=n.contentDocument.defaultView,i.addEventListener("resize",l,h.passive),u())};const o=T();let i;return f(()=>{p(()=>{n=a.$el,n&&m()})}),v(d),a.trigger=l,()=>{if(o.value===!0)return E("object",{style:b.style,tabindex:-1,type:"text/html",data:b.url,"aria-hidden":"true",onLoad:m})}}}});const S=[null,document,document.body,document.scrollingElement,document.documentElement];function D(e,r){let t=L(r);if(t===void 0){if(e==null)return window;t=e.closest(".scroll,.scroll-y,.overflow-auto")}return S.includes(t)?window:t}function H(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function Q(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let c;function V(){if(c!==void 0)return c;const e=document.createElement("p"),r=document.createElement("div");w(e,{width:"100%",height:"200px"}),w(r,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),r.appendChild(e),document.body.appendChild(r);const t=e.offsetWidth;r.style.overflow="scroll";let n=e.offsetWidth;return t===n&&(n=r.clientWidth),r.remove(),c=t-n,c}export{k as Q,H as a,Q as b,V as c,D as g};
